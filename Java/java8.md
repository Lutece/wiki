# 자바 8 정리
- [Java 8 in Action](http://book.naver.com/bookdb/book_detail.nhn?bid=8883567)을 읽으면서 주요 요점들을 정리.

## 자바 8 기본 정보
- 함수(function) : 프로그래밍 언어에서 메서드 특히 정적 메서드와 같은 의미로 사용된다. **자바의 함수는** 이에 더해 수학적인 함수처럼 사용되며 부작용을 일으키지 않는 함수를 의미한다.
- 함수형 프로그래밍 패러다임의 핵심 사항은 공유되지 않은 가변 데이터, 메서드와 함수코드를 다른 메서드로 전달하는 기능이다.
- **메서드 레퍼런스(method reference)** : `::` : 이 메서드를 값으로 사용하라는 의미
  - 이로써 자바 8에서는 더 이상 메서드가 이급값이 아닌 일급값
  - 기존의 객체 레퍼런스(new로 객체 레퍼런스 생성)를 이용해서 객체를 이리저리 주고 받았던 것처럼 (예)File::isHidden을 이용해서 메서드 레퍼런스를 만들어 전달할 수 있게 되었다.
- **람다(lamda)** : 익명 함수 `(int x) -> x +1`
  - 자바 8에서는 named 메소드를 일급값으로 취급할 뿐 아니라 람다(또는 익명함수)를 포함하여 함수도 값으로 취급할 수 있다.
- Predicate : 프레디케이트란 수학에서 인수로 값을 받아 true, false를 반환하는 함수를 의미한다.
- **스트림(Stream)** : 한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임
  - 스트림 API를 이용하면 루프를 신경 쓸 필요가 없어진다.
  - 라이브러리 내부에서 모든 데이터가 처리된다.
  - 이러한 처리를 내부 반복이라고 한다. <-> 외부반복(for-each)
  - 스트림과 람다 표현식을 이용하면 병렬성을 공짜로 얻을 수 있다.
- 스트림 API의 핵심은, 기존에는 한 번에 한 항목을 처리했지만 이제 자바8에서는 우리가 하려는 작업을 (데이터베이스 질의처럼) 고수준으로 추상화해서 일련의 스트림으로 만들어 처리할 수 있다는 것이다.
- **디폴트 메서드(default method)** : 구현 클래스에서 구현하지 않아도 되는 메서드를 인터페이스가 포함할 수 있는 기능을 제공, 메서드 바디는 클래스 구현이 아니라 인터페이스의 일부로 포함된다.
  - 기존의 코드를 건드리지 않고도 원래의 인터페이스 설계를 자유롭게 확장할 수 있다.

## 동작 파라미터화 코드 전달하기
- 동작 파라미터화 (behavior parameterization)을 이용화면 자주 바뀌는 요구사항에 효과적으로 대응할 수 있다.
- **즉, 메서드 내부적으로 다양한 동작을 수행할 수 있도록 코드를 메서드 인수로 전달한다.**
- 결과적으로 코드 블록에 따라 메서드의 동작이 파라미터화 된다.

- Comparator로 정렬하기 예제
```java
public interface Comparator<T> {
  public int compare(T o1, T o2);
}
```
- Comparator를 구현해서 sort 메서드의 동작을 다양화할 수 있다. 예를 들어 익명 클래스를 이용해서 무게가 적은 순으로 목록에서 사과를 정렬할 수 있다.
```java
inventory.sort(new Comparator<Apple>(){
  public int compare(Apple a1, Apple a2){
    return a1.getWeight().compareTo(a2.getWeight());
  }
});
```
- 람다표현식을 이용해 간단하게 코드 구현
```java
inventory.sort( (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));
```
  - `전략 디자인 패턴(strategy design pattern) : 각 알고리즘(전략이라 불리는)을 캡슐화하는 알고리즘 패밀리를 정의해둔 다음에 런타임에 알고리즘을 선택하는 기법`
